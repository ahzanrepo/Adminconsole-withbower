<div class="col-md-12 col-sm-6 col-xs-12">
    <div class="x_panel">
        <div class="x_title">
            <h2>Agent List</h2>
            <ul class="nav navbar-right panel_toolbox">
                <li class="dropdown">
                    <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown" role="button"
                       aria-expanded="false"><i class="fa fa-wrench"></i></a>
                    <ul class="dropdown-menu" role="menu">
                        <li><a href="javascript:void(0);" ng-class="{'active-btn':showDetails==true,
                        '':showDetails==false}"
                               class="btn btn-success btn-sm pull-right attribute-btn"
                               ng-click="showDetailsCard();">
                            Details Card</a>
                        </li>

                        <li><a href="javascript:void(0);" ng-class="{'active-btn':largeCard==true,
                        '':largeCard==false}"
                               class="btn btn-success btn-sm pull-right attribute-btn"
                               ng-click="showLargeCard();">
                            Large Card </a>
                        </li>

                        <li><a href="javascript:void(0);" ng-class="{'active-btn':smallCard==true,
                        '':smallCard==false}"
                               class="btn btn-success btn-sm pull-right attribute-btn"
                               ng-click="showSmallCard();">
                            Small Card</a>
                        </li>

                        <li><a href="javascript:void(0);" ng-class="{'active-btn':summary==true,
                        '':summary==false}"
                               class="btn btn-success btn-sm pull-right attribute-btn"
                               ng-click="showTableCard();">
                            Table</a>
                        </li>
                    </ul>
                </li>
                <li ng-show="showFilter" ng-click="showFilter= !showFilter"><a class="collapse-link"><i
                        class="fa fa-chevron-up"></i></a>
                </li>
                <li ng-hide="showFilter" ng-click="showFilter= !showFilter"><a class="close-link"><i
                        class="fa fa-chevron-down"></i></a>
                </li>
            </ul>
            <div class="clearfix"></div>
        </div>
        <div class="x_content" ng-show="showFilter">
            <div class="col-md-12 col-sm-6 col-xs-12">
                <div class="x_content">
                    <div class="row">
                        <form id="csatForm" name="csatForm" novalidate>
                            <div class="col-md-12 col-sm-12 col-xs-12  form-group">
                                <div class="form-group">
                                    <label>Agents</label>
                                    <div class="row">
                                        <div class="col-md-3 col-sm-3 col-xs-12">
                                            <select name="filterType" ng-model="filterType" ng-change="onSelectionChanged()"
                                                    aria-controls="datatable-responsive" class="form-control select-limit">
                                                <option value="ALL">All Users</option>
                                                <option value="USER">By User</option>


                                            </select>
                                        </div>
                                    </div>


                                    <div class="input-group col-md-12" ng-if="filterType==='USER'">
                                        <!--on-tag-removed="SaveReportQueryFilter()" on-tag-added="SaveReportQueryFilter()"-->
                                        <tags-input ng-model="profile" display-property="ResourceName"
                                                    key-property="ResourceName"
                                                    placeholder="Select Agent"
                                                    add-from-autocomplete-only="true" min-length="0"
                                                    on-tag-removed="ResourceRemoved($tag)"
                                                    on-tag-added="ResourceAdded($tag)">
                                            <auto-complete source="querySearch($query)" load-on-empty="true"
                                                           max-results-to-show="10000" min-length="1"
                                                           load-on-focus="true"></auto-complete>
                                        </tags-input>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-12 col-sm-12 col-xs-12  form-group">
                                <div class="form-group">
                                    <label>Agent Mode</label>
                                    <div class="input-group col-md-12">
                                        <!--on-tag-removed="SaveReportQueryFilter()" on-tag-added="SaveReportQueryFilter()"-->
                                        <tags-input ng-model="agentMode" display-property="Name" key-property="Name"
                                                    placeholder="Select Agent Mode"
                                                    add-from-autocomplete-only="true" min-length="0"
                                                    on-tag-removed="AgentModeRemoved($tag)"
                                                    on-tag-added="AgentModeAdded($tag)">
                                            <auto-complete source="agentModeQuerySearch($query)"
                                                           load-on-empty="true"
                                                           max-results-to-show="10000" min-length="1"
                                                           load-on-focus="true"></auto-complete>
                                        </tags-input>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-1 col-sm-1 col-xs-12">
                                <button ng-disabled="csatForm.$invalid || isLoading" type="button"
                                        class="btn btn-green btn-block "
                                        style="margin-top: 24px;"
                                        ng-click="LoadProductivity();">
                                    Load
                                </button>
                                <!--<button disabled type="button"
                                        ng-if="isLoading"
                                        class="btn btn-green btn-block"
                                        style="margin-top: 24px;">
                                    Please Wait...
                                </button>-->
                            </div>
                        </form>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<div class="col-md-12 col-sm-12 col-xs-12">


    <div class="clearfix"></div>

    <div class="x_panel">
        <!--<div class="x_title">
            <h2>Agent List</h2>
            <div class="clearfix">
                <button type="button"
                        ng-class="{'active-btn':showDetails==true,
                        '':showDetails==false}"
                        class="btn btn-success btn-sm pull-right attribute-btn"
                        ng-click="showDetailsCard();">
                    Details Card
                </button>
                <button type="button"
                        ng-class="{'active-btn':largeCard==true,
                        '':largeCard==false}"
                        class="btn btn-success btn-sm pull-right attribute-btn"
                        ng-click="showLargeCard();">
                    Large Card
                </button>
                <button type="button"
                        ng-class="{'active-btn':smallCard==true,
                        '':smallCard==false}"
                        class="btn btn-success btn-sm pull-right attribute-btn"
                        ng-click="showSmallCard();">
                    Small Card
                </button>
                <button type="button"
                        ng-class="{'active-btn':summary==true,
                        '':summary==false}"
                        class="btn btn-success btn-sm pull-right attribute-btn"
                        ng-click="showTableCard();">
                    Table
                </button>
            </div>

            <div class="x_content">
                <div class="col-md-12 col-sm-6 col-xs-12">
                    <div class="x_content">
                        <div class="row">
                            <form id="csatForm" name="csatForm" novalidate>

                                <div class="col-md-12 col-sm-12 col-xs-12  form-group">
                                    <div class="form-group">
                                        <label>Agent</label>
                                        <div class="input-group col-md-12">
                                            &lt;!&ndash;on-tag-removed="SaveReportQueryFilter()" on-tag-added="SaveReportQueryFilter()"&ndash;&gt;
                                            <tags-input ng-model="profile" display-property="ResourceName"
                                                        key-property="ResourceName"
                                                        placeholder="Select Agent"
                                                        add-from-autocomplete-only="true" min-length="0"
                                                        on-tag-removed="ResourceRemoved($tag)"
                                                        on-tag-added="ResourceAdded($tag)">
                                                <auto-complete source="querySearch($query)" load-on-empty="true"
                                                               max-results-to-show="10000" min-length="1"
                                                               load-on-focus="true"></auto-complete>
                                            </tags-input>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-12 col-sm-12 col-xs-12  form-group">
                                    <div class="form-group">
                                        <label>Agent Mode</label>
                                        <div class="input-group col-md-12">
                                            &lt;!&ndash;on-tag-removed="SaveReportQueryFilter()" on-tag-added="SaveReportQueryFilter()"&ndash;&gt;
                                            <tags-input ng-model="agentMode" display-property="Name" key-property="Name"
                                                        placeholder="Select Agent Mode"
                                                        add-from-autocomplete-only="true" min-length="0"
                                                        on-tag-removed="AgentModeRemoved($tag)"
                                                        on-tag-added="AgentModeAdded($tag)">
                                                <auto-complete source="agentModeQuerySearch($query)"
                                                               load-on-empty="true"
                                                               max-results-to-show="10000" min-length="1"
                                                               load-on-focus="true"></auto-complete>
                                            </tags-input>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-1 col-sm-1 col-xs-12">
                                    <button ng-disabled="csatForm.$invalid || isLoading" type="button"
                                            class="btn btn-green btn-block "
                                            style="margin-top: 24px;"
                                            ng-click="LoadProductivity();">
                                        Load
                                    </button>
                                    &lt;!&ndash;<button disabled type="button"
                                            ng-if="isLoading"
                                            class="btn btn-green btn-block"
                                            style="margin-top: 24px;">
                                        Please Wait...
                                    </button>&ndash;&gt;
                                </div>
                            </form>
                        </div>
                    </div>

                </div>
            </div>
        </div>-->
        <div class="x_content">
            <br>

            <form id="demo-form2" data-parsley-validate="" class="form-horizontal form-label-left" novalidate="">

                <div ng-show="isLoading">
                    <div class="row ">
                        <div class="col-md-12 col-sm-12 col-xs-12">
                            <div class="data-state-wrap">
                                Please Wait...
                            </div>

                        </div>
                    </div>
                </div>

                <div class="col-md-12 col-sm-12 col-xs-12" ng-hide="isLoading">
                    <div class="row" ng-show="showDetails">
                        <agentstatus call-infos="showCallInfos" show-summary="summary"
                                     productivity-list="Productivitys"
                                     res-item="res"
                                     active-call-list="activeCalls"
                                     view-state="1"
                                     attributes-list="attributesList" productivity="res"
                                     ng-repeat="res in Productivitys| orderBy:'slotState'"></agentstatus>
                    </div>

                    <div class="row" ng-show="smallCard">
                        <agentstatus call-infos="showCallInfos" show-summary="summary" productivity-list="Productivitys"
                                     res-item="res"
                                     active-call-list="activeCalls"
                                     view-state="2"
                                     attributes-list="attributesList" productivity="res"
                                     ng-repeat="res in Productivitys| orderBy:'slotState'">
                    </div>

                    <div class="row" ng-show="largeCard">
                        <agentstatus call-infos="showCallInfos" show-summary="summary" productivity-list="Productivitys"
                                     res-item="res"
                                     active-call-list="activeCalls"
                                     view-state="3"
                                     attributes-list="attributesList" productivity="res"
                                     ng-repeat="res in Productivitys| orderBy:'slotState'">
                    </div>

                    <div ng-show="summary">

                        <div id="grid1"
                             ui-grid="gridOptions"
                             ui-grid-resize-columns
                             ui-grid-pinning
                             ui-grid-exporter
                             ui-grid-selection
                             ui-grid-move-columns
                             ui-grid-auto-resize
                             class="grid grid-width-full"
                             ng-style="getTableHeight()"></div>
                    </div>


                    <!--<div ng-show="summary" class="col-md-12 col-sm-12 col-xs-12">
                        <table class="table table-striped table-bordered dt-responsive nowrap dataTable no-footer dtr-inline">
                            <thead>
                            <tr>
                                <th class="fs15 text-right">Tasks</th>
                                <th class="fs15 text-left" ng-show="showCallDetails" >Call Info</th>
                                <th class="fs15 text-left">Name</th>
                                <th class="fs15 text-right">State</th>
                                <th class="fs15 text-right">State Time</th>
                                &lt;!&ndash;<th class="fs15 text-right">Staffed Time</th>&ndash;&gt;
                                <th class="fs15 text-right">AcwTime</th>
                                <th class="fs15 text-right">BreakTime</th>
                                <th class="fs15 text-right">HoldTime</th>
                                <th class="fs15 text-right">OnCallTime</th>
                                <th class="fs15 text-right">IdleTime</th>
                                <th class="fs15 text-right">StaffedTime</th>
                                <th class="fs15 text-right">IncomingCallCount</th>
                                <th class="fs15 text-right">MissCallCount</th>
                                <th class="fs15 text-right">TransferCallCount</th>


                            </tr>
                            </thead>
                            <tbody>
                            <tr  ng-repeat="productivity in Productivitys">

                                <th class="fs15 text-right">&lt;!&ndash; task &ndash;&gt;
                                    <div ng-repeat="task in productivity.taskList">
                                        <small>{{task.taskType}}</small>
                                        <small>{{task.skill}}</small>
                                        <small>{{task.percentage}}%</small>
                                    </div>
                                </th>
                                <th class="fs15 text-left" ng-show="showCallDetails" >
                                    <div ng-repeat="call in productivity.callInfos">
                                        <small>connect with : {{call["Caller-Caller-ID-Number"]}}</small>
                                        <small>Direction : {{call["DVP-Call-Direction"]}}</small>
                                    </div>
                                </th>
                                <th class="fs15 text-left">{{productivity.ResourceName}}</th>
                                <th class="fs15 text-right">{{productivity.slotState}}</th>
                                <th class="fs15 text-right">{{productivity.slotStateTime}}</th>
                                <th class="fs15 text-right">{{productivity.AcwTime| secondsToDateTime | date:'HH:mm:ss'}}</th>
                                <th class="fs15 text-right">{{productivity.BreakTime| secondsToDateTime | date:'HH:mm:ss'}}</th>
                                <th class="fs15 text-right">{{productivity.HoldTime| secondsToDateTime | date:'HH:mm:ss'}}</th>
                                <th class="fs15 text-right">{{productivity.OnCallTime| secondsToDateTime | date:'HH:mm:ss'}}</th>
                                <th class="fs15 text-right"> {{productivity.IdleTime| secondsToDateTime | date:'HH:mm:ss'}}</th>
                                <th class="fs15 text-right">{{productivity.StaffedTime | secondsToDateTime | date:'HH:mm:ss'}}</th>
                                <th class="fs15 text-right">{{productivity.IncomingCallCount}}</th>
                                <th class="fs15 text-right">{{productivity.MissCallCount}}</th>
                                <th class="fs15 text-right">{{productivity.TransferCallCount}}</th>


                            </tr>

                            </tbody>
                        </table>

                    </div>-->

                </div>

            </form>
        </div>
    </div>
</div>
